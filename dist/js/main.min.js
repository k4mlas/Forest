"use strict";var $footerYear,$body,$btnNavMobile,$navMobile,$navLinksMobile,$navLinksDesktop,$sections,$name,$mail,$msg,$nameError,$formBtn,$popup,$popupBtn,$photos,$popupGallery,$closeGallery,$popupImg,$popupGalleryImg,$indexImg,$next,$back,$closeBtn,main=function(){prepareDOMElements(),galleryEngine(),handleCurrentYear(),prepareDOMEvens()},prepareDOMElements=function(){$footerYear=document.querySelector(".footer__date__year"),$btnNavMobile=document.querySelector(".header__content__btn"),$navMobile=document.querySelector(".header__nav"),$navLinksMobile=document.querySelectorAll(".header__nav__items__item"),$navLinksDesktop=document.querySelectorAll(".header__navDesktop__item"),$sections=document.querySelectorAll(".sectionScroll"),$name=document.getElementById("name"),$mail=document.getElementById("mail"),$msg=document.getElementById("msg"),$nameError=document.querySelectorAll(".contact__box__form__opction__error"),$formBtn=document.querySelector(".contact__box__form__btn"),$popup=document.querySelector(".contact__popup"),$popupBtn=document.querySelector(".contact__popup__btn"),$body=document.querySelector("body"),$photos=document.querySelectorAll(".gallery__body__images__img img"),$popupGallery=document.querySelector(".gallery__popupGallery"),$closeGallery=document.querySelector(".closeGallery"),$popupGalleryImg=document.querySelector(".gallery__popupGallery__img"),$next=document.querySelector(".gallery__popupGallery__img__button--next"),$back=document.querySelector(".gallery__popupGallery__img__button--previous"),$closeBtn=document.querySelector(".gallery__popupGallery__img__button--close"),$popupImg=document.createElement("img")},prepareDOMEvens=function(){$btnNavMobile.addEventListener("click",showNav),$popupBtn.addEventListener("click",closeForm),$formBtn.addEventListener("click",checkAllForm)},handleCurrentYear=function(){var e=(new Date).getFullYear();$footerYear.innerText=e},showNav=function(){$navMobile.classList.toggle("active"),document.body.classList.toggle("sticky-body"),$navLinksMobile.forEach(function(e){e.addEventListener("click",function(){$navMobile.classList.remove("active"),document.body.classList.remove("sticky-body")})})},showError=(window.onscroll=function(){$sections.forEach(function(e){var o=window.scrollY,t=e.offsetTop-150,n=e.offsetHeight,r=e.getAttribute("id");t<=o&&o<t+n&&$navLinksDesktop.forEach(function(e){e.classList.remove("activeNav"),document.querySelector(".header__navDesktop__item[href*="+r+"]").classList.add("activeNav")})})},function(e){e.nextElementSibling.style.visibility="visible",e.classList.add("errorInput")}),hideError=function(e){e.nextElementSibling.style.visibility="hidden",e.classList.remove("errorInput")},checkEmail=function(){(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test($mail.value)?hideError:showError)($mail)},checkError=function(e){var o=0;e.forEach(function(e){e.classList.contains("errorInput")&&o++}),0==o&&($popup.style.display="flex",$body.classList.add("scrollNone"))},closeForm=function(){$popup.style.display="none",$name.value="",$mail.value="",$msg.value="",$body.classList.remove("scrollNone")},checkForm=function(e){e.forEach(function(e){(""===e.value?showError:hideError)(e)})},checkAllForm=function(e){e.preventDefault(),checkForm([$name,$mail,$msg]),checkEmail(),checkError([$name,$mail,$msg])},galleryEngine=function(){$photos.forEach(function(e,o){e.addEventListener("click",function(e){$body.classList.add("scrollNone"),$popupGallery.classList.add("showPopupImg"),$popupImg.setAttribute("src",""),$popupImg.src=e.target.src,$popupGalleryImg.appendChild($popupImg),$indexImg=o,$next.addEventListener("click",nextPhoto),$back.addEventListener("click",backPhoto),$closeBtn.addEventListener("click",close),console.log($indexImg)})})},nextPhoto=function(){$indexImg==$photos.length-1?$indexImg=0:$indexImg++,$popupImg.src=$photos[$indexImg].src},backPhoto=function(){0==$indexImg?$indexImg=$photos.length-1:$indexImg--,$popupImg.src=$photos[$indexImg].src},close=function(){$popupGallery.classList.remove("showPopupImg"),$body.classList.remove("scrollNone")};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJGZvb3RlclllYXIiLCIkYm9keSIsIiRidG5OYXZNb2JpbGUiLCIkbmF2TW9iaWxlIiwiJG5hdkxpbmtzRGVza3RvcCIsIiRzZWN0aW9ucyIsIiRtYWlsIiwiJG1zZyIsIiRuYW1lRXJyb3IiLCIkZm9ybUJ0biIsIiRwb3B1cCIsIiRwb3B1cEJ0biIsIiRwb3B1cEdhbGxlcnkiLCIkY2xvc2VHYWxsZXJ5IiwiJHBvcHVwSW1nIiwiJHBvcHVwR2FsbGVyeUltZyIsIiRpbmRleEltZyIsIiRuZXh0IiwiJGJhY2siLCIkY2xvc2VCdG4iLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJnYWxsZXJ5RW5naW5lIiwiaGFuZGxlQ3VycmVudFllYXIiLCJwcmVwYXJlRE9NRXZlbnMiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiJG5hdkxpbmtzTW9iaWxlIiwiZ2V0RWxlbWVudEJ5SWQiLCIkbmFtZSIsIiRwaG90b3MiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VGb3JtIiwic2hvd05hdiIsImNoZWNrQWxsRm9ybSIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJjbGFzc0xpc3QiLCJib2R5IiwidG9nZ2xlIiwiZm9yRWFjaCIsIml0ZW0iLCJyZW1vdmUiLCJ3aW5kb3ciLCJpbnB1dCIsIm9uc2Nyb2xsIiwiZ2V0QXR0cmlidXRlIiwib2Zmc2V0IiwiaGVpZ2h0IiwiaWQiLCJzZWMiLCJ0b3AiLCJsaW5rcyIsInNob3dFcnJvciIsImFkZCIsIm5leHRFbGVtZW50U2libGluZyIsImNoZWNrRW1haWwiLCJ2aXNpYmlsaXR5IiwicmVnIiwiaGlkZUVycm9yIiwic3R5bGUiLCJpbnB1dHMiLCJ0ZXN0IiwidmFsdWUiLCJlciIsImNvbnRhaW5zIiwiY2hlY2tGb3JtIiwiZWwiLCJkaXNwbGF5IiwicHJldmVudERlZmF1bHQiLCJlIiwiaW5kZXgiLCJjaGVja0Vycm9yIiwibmV4dFBob3RvIiwicGhvdG8iLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJ0YXJnZXQiLCJiYWNrUGhvdG8iLCJjbG9zZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJtYWluIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxZQUdJQyxNQUFBQSxjQUVBQyxXQUNBQyxnQkFHQUMsaUJBQ0FDLFVBR0FDLE1BQ0FDLE1BQ0FDLEtBQ0FDLFdBQ0FDLFNBQ0FDLE9BQ0pBLFVBR0lDLFFBQ0FDLGNBQ0FDLGNBQ0FDLFVBQ0FDLGlCQUNBQyxVQUNBQyxNQUNBQyxNQUFBQSxVQUtIQyxLQUFBQSxXQUFBQSxtQkFDZSxFQUFmQyxjQUNBQyxFQUFBQSxrQkFDaUIsRUFDakJDLGdCQUFBLENBRUQsRUFFQ3JCLG1CQUF5QnNCLFdBRHpCeEIsWUFFYXlCLFNBQVNELGNBQWMscUJBQWUsRUFEbkR0QixjQUVldUIsU0FBR0EsY0FBU0MsdUJBQWlCLEVBRDVDdkIsV0FFQUMsU0FBbUJxQixjQUFTQyxjQUFpQixFQUQ3Q0MsZ0JBRVlGLFNBQVNDLGlCQUFpQiwyQkFBaUIsRUFEdkR0QixpQkFFaUJ3QixTQUFBQSxpQkFBc0IsMkJBQUEsRUFEdkN2QixVQUVRb0IsU0FBU0csaUJBQWUsZ0JBQU8sRUFEdkNDLE1BRU9KLFNBQVNHLGVBQWUsTUFBTSxFQURyQ3RCLE1BRUFFLFNBQWFpQixlQUFTQyxNQUFBQSxFQUR0Qm5CLEtBRUFFLFNBQVdnQixlQUFTRCxLQUFjLEVBRGxDaEIsV0FFU2lCLFNBQVNELGlCQUFjLHFDQUFrQixFQURsRGYsU0FFU2dCLFNBQUdBLGNBQVNELDBCQUFxQyxFQUQxRGQsT0FFUWUsU0FBU0QsY0FBYyxpQkFBTyxFQUR0Q2IsVUFFVWMsU0FBU0MsY0FBQUEsc0JBQWlCLEVBRHBDekIsTUFFQVcsU0FBZ0JhLGNBQVNELE1BQUFBLEVBRHpCTSxRQUVBakIsU0FBZ0JZLGlCQUFTRCxpQ0FBOEIsRUFEdkRaLGNBRUFHLFNBQW1CVSxjQUFTRCx3QkFBYyxFQUQxQ1gsY0FFUVksU0FBU0QsY0FBYyxlQUFBLEVB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QUFpQixJQUFBLGNBQUEsRUFmTDFDLFVBZ0JRK0QsYUFBRSxNQUFBLEVBQUEsRUFDWi9ELFVBQUFnRSxJQUFBTixFQUFBTyxPQUFBRCxJQUNBaEUsaUJBQWdCZ0IsWUFBUWQsU0FBYyxFQUN0Q0EsVUFBQXlELEVBQ0R4RCxNQUFNK0QsaUJBQUFBLFFBQVNMLFNBQVMsRUFDdkJ6RCxNQUFJRixpQkFBZ0IsUUFBQWdFLFNBQUEsRUFmbEI3RCxVQWdCUVksaUJBQWlCLFFBQUdrRCxLQUFBLEVBQzdCQyxRQUFNQyxJQUFBbkUsU0FBQSxDQWZOLENBQUMsQ0FDRixDQWdCQSxDQWZELEVBa0JNaUUsVUFBUSxXQUNickUsV0FBYzJCLFFBQVVLLE9BQU8sRUFDL0IzQyxVQUFNc0MsRUFkTHZCLFNBQVMsR0FFVkYsVUFBVWdFLElBQU1oRCxRQUFRZCxXQUFXOEQsR0FpQnBDckQsRUFmTXVELFVBQVksV0FDQSxHQUFiaEUsVUFDSEEsVUFBWWMsUUFBUXNELE9BQVEsRUFFNUJwRSxTQUFTLEdBRVZGLFVBQVVnRSxJQUFNaEQsUUFBUWQsV0FBVzhELEdBQ3BDLEVBQ01HLE1BQVEsV0FDYnJFLGNBQWMyQixVQUFVSyxPQUFPLGNBQWMsRUFDN0MzQyxNQUFNc0MsVUFBVUssT0FBTyxZQUFZLENBQ3BDLEVBSUFuQixTQUFTTSxpQkFBaUIsbUJBQW9Cc0QsSUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy96bWllbm5lIGRvIHN0cm9ueVxuXG5sZXQgJGZvb3RlclllYXI7XG5sZXQgJGJvZHk7XG5cbmxldCAkYnRuTmF2TW9iaWxlO1xubGV0ICRuYXZNb2JpbGU7XG5sZXQgJG5hdkxpbmtzTW9iaWxlO1xuXG5sZXQgJG5hdkxpbmtzRGVza3RvcDtcbmxldCAkc2VjdGlvbnM7XG5cbmxldCAkbmFtZTtcbmxldCAkbWFpbDtcbmxldCAkbXNnO1xubGV0ICRuYW1lRXJyb3I7XG5sZXQgJGZvcm1CdG47XG5sZXQgJHBvcHVwO1xubGV0ICRwb3B1cEJ0bjtcbi8vIEdhbGxlcnlcblxubGV0ICRwaG90b3M7XG5sZXQgJHBvcHVwR2FsbGVyeTtcbmxldCAkY2xvc2VHYWxsZXJ5O1xubGV0ICRwb3B1cEltZztcbmxldCAkcG9wdXBHYWxsZXJ5SW1nO1xubGV0ICRpbmRleEltZztcbmxldCAkbmV4dDtcbmxldCAkYmFjaztcbmxldCAkY2xvc2VCdG47XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0Z1bmtjamEgbWFpblxuXG5jb25zdCBtYWluID0gKCkgPT4ge1xuXHRwcmVwYXJlRE9NRWxlbWVudHMoKTtcblx0Z2FsbGVyeUVuZ2luZSgpO1xuXHRoYW5kbGVDdXJyZW50WWVhcigpO1xuXHRwcmVwYXJlRE9NRXZlbnMoKTtcbn07XG5cbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcblx0JGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX19kYXRlX195ZWFyJyk7XG5cdCRidG5OYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19jb250ZW50X19idG4nKTtcblx0JG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX25hdicpO1xuXHQkbmF2TGlua3NNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19uYXZfX2l0ZW1zX19pdGVtJyk7XG5cdCRuYXZMaW5rc0Rlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19uYXZEZXNrdG9wX19pdGVtJyk7XG5cdCRzZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uU2Nyb2xsJyk7XG5cdCRuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKTtcblx0JG1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbCcpO1xuXHQkbXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21zZycpO1xuXHQkbmFtZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3RfX2JveF9fZm9ybV9fb3BjdGlvbl9fZXJyb3InKTtcblx0JGZvcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fYm94X19mb3JtX19idG4nKTtcblx0JHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX3BvcHVwJyk7XG5cdCRwb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19wb3B1cF9fYnRuJyk7XG5cdCRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXHQkcGhvdG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX2JvZHlfX2ltYWdlc19faW1nIGltZycpO1xuXHQkcG9wdXBHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3BvcHVwR2FsbGVyeScpO1xuXHQkY2xvc2VHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlR2FsbGVyeScpO1xuXHQkcG9wdXBHYWxsZXJ5SW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3BvcHVwR2FsbGVyeV9faW1nJyk7XG5cdCRuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3BvcHVwR2FsbGVyeV9faW1nX19idXR0b24tLW5leHQnKTtcblx0JGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuXHRcdCcuZ2FsbGVyeV9fcG9wdXBHYWxsZXJ5X19pbWdfX2J1dHRvbi0tcHJldmlvdXMnXG5cdCk7XG5cdCRjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19wb3B1cEdhbGxlcnlfX2ltZ19fYnV0dG9uLS1jbG9zZScpO1xuXHQkcG9wdXBJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbn07XG5cbmNvbnN0IHByZXBhcmVET01FdmVucyA9ICgpID0+IHtcblx0JGJ0bk5hdk1vYmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dOYXYpO1xuXHQkcG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUZvcm0pO1xuXHQkZm9ybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrQWxsRm9ybSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vRnVua2NqZVxuXG4vL0RBVEFcblxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XG5cdGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdCRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XG59O1xuXG4vL05hd2lnYWNqYSBtb2JpbG5hXG5cbmNvbnN0IHNob3dOYXYgPSAoKSA9PiB7XG5cdCRuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc3RpY2t5LWJvZHknKTtcblx0JG5hdkxpbmtzTW9iaWxlLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0JG5hdk1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2t5LWJvZHknKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG4vL3Njcm9sbHNweVxuXG53aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XG5cdCRzZWN0aW9ucy5mb3JFYWNoKChzZWMpID0+IHtcblx0XHRsZXQgdG9wID0gd2luZG93LnNjcm9sbFk7XG5cdFx0bGV0IG9mZnNldCA9IHNlYy5vZmZzZXRUb3AgLSAxNTA7XG5cdFx0bGV0IGhlaWdodCA9IHNlYy5vZmZzZXRIZWlnaHQ7XG5cdFx0bGV0IGlkID0gc2VjLmdldEF0dHJpYnV0ZSgnaWQnKTtcblxuXHRcdGlmICh0b3AgPj0gb2Zmc2V0ICYmIHRvcCA8IG9mZnNldCArIGhlaWdodCkge1xuXHRcdFx0JG5hdkxpbmtzRGVza3RvcC5mb3JFYWNoKChsaW5rcykgPT4ge1xuXHRcdFx0XHRsaW5rcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVOYXYnKTtcblx0XHRcdFx0ZG9jdW1lbnRcblx0XHRcdFx0XHQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2RGVza3RvcF9faXRlbVtocmVmKj0nICsgaWQgKyAnXScpXG5cdFx0XHRcdFx0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZU5hdicpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn07XG5cbi8vIEZvcm1cblxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0KSA9PiB7XG5cdGNvbnN0IGVycm9yQWxlcnQgPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdGVycm9yQWxlcnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcblx0aW5wdXQuY2xhc3NMaXN0LmFkZCgnZXJyb3JJbnB1dCcpO1xufTtcblxuY29uc3QgaGlkZUVycm9yID0gKGlucHV0KSA9PiB7XG5cdGNvbnN0IGVycm9yQWxlcnQgPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdGVycm9yQWxlcnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXHRpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcklucHV0Jyk7XG59O1xuXG5jb25zdCBjaGVja0VtYWlsID0gKCkgPT4ge1xuXHRjb25zdCByZWcgPVxuXHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuXHRpZiAocmVnLnRlc3QoJG1haWwudmFsdWUpKSB7XG5cdFx0aGlkZUVycm9yKCRtYWlsKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IoJG1haWwpO1xuXHR9XG59O1xuXG5jb25zdCBjaGVja0Vycm9yID0gKGlucHV0cykgPT4ge1xuXHRsZXQgZXJyb3JzID0gMDtcblx0aW5wdXRzLmZvckVhY2goKGVyKSA9PiB7XG5cdFx0aWYgKGVyLmNsYXNzTGlzdC5jb250YWlucygnZXJyb3JJbnB1dCcpKSB7XG5cdFx0XHRlcnJvcnMrKztcblx0XHR9XG5cdH0pO1xuXHRpZiAoZXJyb3JzID09IDApIHtcblx0XHQkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHQkYm9keS5jbGFzc0xpc3QuYWRkKCdzY3JvbGxOb25lJyk7XG5cdH1cbn07XG5cbmNvbnN0IGNsb3NlRm9ybSA9ICgpID0+IHtcblx0JHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCRuYW1lLnZhbHVlID0gJyc7XG5cdCRtYWlsLnZhbHVlID0gJyc7XG5cdCRtc2cudmFsdWUgPSAnJztcblx0JGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsTm9uZScpO1xufTtcblxuY29uc3QgY2hlY2tGb3JtID0gKGlucHV0cykgPT4ge1xuXHRpbnB1dHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRpZiAoZWwudmFsdWUgPT09ICcnKSB7XG5cdFx0XHRzaG93RXJyb3IoZWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaWRlRXJyb3IoZWwpO1xuXHRcdH1cblx0fSk7XG59O1xuXG5jb25zdCBjaGVja0FsbEZvcm0gPSAoZSkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNoZWNrRm9ybShbJG5hbWUsICRtYWlsLCAkbXNnXSk7XG5cdGNoZWNrRW1haWwoKTtcblx0Y2hlY2tFcnJvcihbJG5hbWUsICRtYWlsLCAkbXNnXSk7XG59O1xuXG4vL0dhbGxlcnlcbmNvbnN0IGdhbGxlcnlFbmdpbmUgPSAoKSA9PiB7XG5cdCRwaG90b3MuZm9yRWFjaCgocGhvdG8sIGluZGV4KSA9PiB7XG5cdFx0cGhvdG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0JGJvZHkuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsTm9uZScpO1xuXHRcdFx0JHBvcHVwR2FsbGVyeS5jbGFzc0xpc3QuYWRkKCdzaG93UG9wdXBJbWcnKTtcblx0XHRcdCRwb3B1cEltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsICcnKTtcblx0XHRcdCRwb3B1cEltZy5zcmMgPSBlLnRhcmdldC5zcmM7XG5cdFx0XHQkcG9wdXBHYWxsZXJ5SW1nLmFwcGVuZENoaWxkKCRwb3B1cEltZyk7XG5cdFx0XHQkaW5kZXhJbWcgPSBpbmRleDtcblx0XHRcdCRuZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmV4dFBob3RvKTtcblx0XHRcdCRiYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYmFja1Bob3RvKTtcblx0XHRcdCRjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKTtcblx0XHRcdGNvbnNvbGUubG9nKCRpbmRleEltZyk7XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuY29uc3QgbmV4dFBob3RvID0gKCkgPT4ge1xuXHRpZiAoJGluZGV4SW1nID09ICRwaG90b3MubGVuZ3RoIC0gMSkge1xuXHRcdCRpbmRleEltZyA9IDA7XG5cdH0gZWxzZSB7XG5cdFx0JGluZGV4SW1nKys7XG5cdH1cblx0JHBvcHVwSW1nLnNyYyA9ICRwaG90b3NbJGluZGV4SW1nXS5zcmM7XG59O1xuY29uc3QgYmFja1Bob3RvID0gKCkgPT4ge1xuXHRpZiAoJGluZGV4SW1nID09IDApIHtcblx0XHQkaW5kZXhJbWcgPSAkcGhvdG9zLmxlbmd0aCAtMTtcblx0fSBlbHNlIHtcblx0XHQkaW5kZXhJbWctLTtcblx0fVxuXHQkcG9wdXBJbWcuc3JjID0gJHBob3Rvc1skaW5kZXhJbWddLnNyYztcbn07XG5jb25zdCBjbG9zZSA9ICgpID0+IHtcblx0JHBvcHVwR2FsbGVyeS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93UG9wdXBJbWcnKTtcblx0JGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsTm9uZScpO1xufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9GdW5rY2phIE1haW5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pO1xuIl19
